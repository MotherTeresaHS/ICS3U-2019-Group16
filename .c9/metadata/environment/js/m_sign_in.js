{"filter":false,"title":"m_sign_in.js","tooltip":"/js/m_sign_in.js","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":56,"column":1},"action":"insert","lines":["// JavaScript File","","function signInButton() {","  // sign-in to AWS Cognito","  ","  var data = { ","\t  UserPoolId : _config.cognito.userPoolId,","    ClientId : _config.cognito.clientId","  };","  var userPool = new AmazonCognitoIdentity.CognitoUserPool(data);","  var cognitoUser = userPool.getCurrentUser();","","\tvar authenticationData = {","    Username : document.getElementById(\"inputUsername\").value,","    Password : document.getElementById(\"inputPassword\").value,","  };","","  var authenticationDetails = new AmazonCognitoIdentity.AuthenticationDetails(authenticationData);","","  var poolData = {","    UserPoolId : _config.cognito.userPoolId, // Your user pool id here","    ClientId : _config.cognito.clientId, // Your client id here","  };","","  var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);","","  var userData = {","    Username : document.getElementById(\"inputUsername\").value,","    Pool : userPool,","  };","","  var cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData);","","  cognitoUser.authenticateUser(authenticationDetails, {","    onSuccess: function (result) {","      var accessToken = result.getAccessToken().getJwtToken();","      console.log(result);\t","      ","      //get user info, to show that you are logged in","\t\t\tcognitoUser.getUserAttributes(function(err, result) {","\t\t\t\tif (err) {","\t\t\t\t\tconsole.log(err);","\t\t\t\t\treturn;","\t\t\t\t}","\t\t\t\tconsole.log(result);","\t\t\t\tdocument.getElementById(\"logged-in\").innerHTML = \"You are logged in as: \" + result[2].getValue();","\t\t\t\t","\t\t\t\t// now auto redirect to profile page","\t\t\t\twindow.location.replace(\"./profile.html\");","\t\t\t});","      ","    },","    onFailure: function(err) {","      alert(err.message || JSON.stringify(err));","    },","  });","}"],"id":1}],[{"start":{"row":56,"column":1},"end":{"row":57,"column":0},"action":"insert","lines":["",""],"id":2}]]},"ace":{"folds":[],"scrolltop":446,"scrollleft":0,"selection":{"start":{"row":57,"column":0},"end":{"row":57,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1579487704608,"hash":"75e38344ce0358553965271491fdc4b9da603249"}