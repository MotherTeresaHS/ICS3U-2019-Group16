{"filter":false,"title":"profile.html","tooltip":"/profile.html","undoManager":{"mark":7,"position":7,"stack":[[{"start":{"row":6,"column":40},"end":{"row":7,"column":0},"action":"insert","lines":["",""],"id":146},{"start":{"row":7,"column":0},"end":{"row":7,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":65},"action":"insert","lines":[" <script type=\"text/javascript\" src=\"js/profile.js\"></script>"],"id":147}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":5},"action":"remove","lines":[" "],"id":148}],[{"start":{"row":26,"column":2},"end":{"row":69,"column":7},"action":"remove","lines":["<script>","  ","  async function getUser(email_addres) {","      // get the user info from API","","      const api_url = 'https://y8s2gy3mi8.execute-api.us-east-1.amazonaws.com/prod/user-profile?user_email=' + email_addres;","      const api_response = await fetch(api_url);","      const api_data = await(api_response).json();","      console.log(api_data);","","      const div_user_info = document.getElementById('profile');","      div_user_info.innerHTML = api_data['body'];","      }","    ","  var data = {","      UserPoolId : _config.cognito.userPoolId,","      ClientId : _config.cognito.clientId","    };","    var userPool = new AmazonCognitoIdentity.CognitoUserPool(data);","    var cognitoUser = userPool.getCurrentUser();","","    window.onload = function(){","      if (cognitoUser != null) {","        cognitoUser.getSession(function(err, session) {","            if (err) {","              alert(err);","              return;","            }","            //console.log('session validity: ' + session.isValid());","            ","            cognitoUser.getUserAttributes(function(err, result) {","              if (err) {","                console.log(err);","                return;","                }","                //user email address","                console.log(result[2].getValue());","                getUser(result[2].getValue())","              });","","        });","      } else {","        console.log(\"Already signed-out\")","      }"],"id":149}],[{"start":{"row":25,"column":0},"end":{"row":28,"column":43},"action":"insert","lines":[" </body>","  <script>","    window.onload = function(){","      const temp_var = getUserAttributes();"],"id":150}],[{"start":{"row":25,"column":1},"end":{"row":25,"column":2},"action":"insert","lines":[" "],"id":151}],[{"start":{"row":29,"column":0},"end":{"row":29,"column":2},"action":"remove","lines":["  "],"id":152},{"start":{"row":28,"column":43},"end":{"row":29,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":32,"column":0},"end":{"row":32,"column":9},"action":"remove","lines":["  </body>"],"id":153},{"start":{"row":31,"column":0},"end":{"row":32,"column":0},"action":"remove","lines":["",""]},{"start":{"row":30,"column":11},"end":{"row":31,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":30,"column":11},"end":{"row":30,"column":11},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1579290602787,"hash":"b3fb102e2b1d740537ead402589b5f32d55ef72f"}