{"filter":false,"title":"profile.html","tooltip":"/profile.html","undoManager":{"mark":16,"position":16,"stack":[[{"start":{"row":6,"column":40},"end":{"row":7,"column":0},"action":"insert","lines":["",""],"id":146},{"start":{"row":7,"column":0},"end":{"row":7,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":65},"action":"insert","lines":[" <script type=\"text/javascript\" src=\"js/profile.js\"></script>"],"id":147}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":5},"action":"remove","lines":[" "],"id":148}],[{"start":{"row":26,"column":2},"end":{"row":69,"column":7},"action":"remove","lines":["<script>","  ","  async function getUser(email_addres) {","      // get the user info from API","","      const api_url = 'https://y8s2gy3mi8.execute-api.us-east-1.amazonaws.com/prod/user-profile?user_email=' + email_addres;","      const api_response = await fetch(api_url);","      const api_data = await(api_response).json();","      console.log(api_data);","","      const div_user_info = document.getElementById('profile');","      div_user_info.innerHTML = api_data['body'];","      }","    ","  var data = {","      UserPoolId : _config.cognito.userPoolId,","      ClientId : _config.cognito.clientId","    };","    var userPool = new AmazonCognitoIdentity.CognitoUserPool(data);","    var cognitoUser = userPool.getCurrentUser();","","    window.onload = function(){","      if (cognitoUser != null) {","        cognitoUser.getSession(function(err, session) {","            if (err) {","              alert(err);","              return;","            }","            //console.log('session validity: ' + session.isValid());","            ","            cognitoUser.getUserAttributes(function(err, result) {","              if (err) {","                console.log(err);","                return;","                }","                //user email address","                console.log(result[2].getValue());","                getUser(result[2].getValue())","              });","","        });","      } else {","        console.log(\"Already signed-out\")","      }"],"id":149}],[{"start":{"row":25,"column":0},"end":{"row":28,"column":43},"action":"insert","lines":[" </body>","  <script>","    window.onload = function(){","      const temp_var = getUserAttributes();"],"id":150}],[{"start":{"row":25,"column":1},"end":{"row":25,"column":2},"action":"insert","lines":[" "],"id":151}],[{"start":{"row":29,"column":0},"end":{"row":29,"column":2},"action":"remove","lines":["  "],"id":152},{"start":{"row":28,"column":43},"end":{"row":29,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":32,"column":0},"end":{"row":32,"column":9},"action":"remove","lines":["  </body>"],"id":153},{"start":{"row":31,"column":0},"end":{"row":32,"column":0},"action":"remove","lines":["",""]},{"start":{"row":30,"column":11},"end":{"row":31,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":0,"column":0},"end":{"row":32,"column":0},"action":"remove","lines":["<!doctype html>","<html lang=\"en\">","  <head>","    <meta charset=\"utf-8\">","    <!--Cognito JavaScript-->","    <script src=\"js/amazon-cognito-identity.min.js\"></script>","    <script src=\"js/config.js\"></script>","    <script type=\"text/javascript\" src=\"js/profile.js\"></script>","  </head>","","  <body>","  <div class=\"container\">","    <div>","      <h1>Profile</h1>","    </div>","    <div id='profile'>","      <p></p>","    </div>","","    <br>","    <div id='home'>","      <p>","      <a href='./index.html'>Home</a>","      </p>","    </div>","  </body>","  <script>","    window.onload = function(){","      const temp_var = getUserAttributes();","    }","  </script>","</html>",""],"id":154}],[{"start":{"row":0,"column":0},"end":{"row":32,"column":7},"action":"insert","lines":["<!doctype html>","<html lang=\"en\">","  <head>","    <meta charset=\"utf-8\">","    <!--Cognito JavaScript-->","    <script src=\"js/amazon-cognito-identity.min.js\"></script>","    <script src=\"js/config.js\"></script>","    <script src=\"js/sign-out.js\"></script>","  </head>","","  <body>","    <div class=\"container\">","      <div>","        <h1>Sign Out</h1>","        <div id='sign-out'>","          <p>One moment please ...</p>","        </div>","      </div>","    <div>","","    <br>","    <div id='home'>","      <p>","        <a href='./index.1.html'>Home</a>","      </p>","    </div>","  </body>","  <script>","    window.onload = function(){","      const temp_var = signOut();","    }","  </script>","</html>"],"id":155}],[{"start":{"row":32,"column":7},"end":{"row":33,"column":0},"action":"insert","lines":["",""],"id":156}],[{"start":{"row":23,"column":25},"end":{"row":23,"column":26},"action":"remove","lines":["1"],"id":157},{"start":{"row":23,"column":24},"end":{"row":23,"column":25},"action":"remove","lines":["."]}],[{"start":{"row":0,"column":0},"end":{"row":33,"column":0},"action":"remove","lines":["<!doctype html>","<html lang=\"en\">","  <head>","    <meta charset=\"utf-8\">","    <!--Cognito JavaScript-->","    <script src=\"js/amazon-cognito-identity.min.js\"></script>","    <script src=\"js/config.js\"></script>","    <script src=\"js/sign-out.js\"></script>","  </head>","","  <body>","    <div class=\"container\">","      <div>","        <h1>Sign Out</h1>","        <div id='sign-out'>","          <p>One moment please ...</p>","        </div>","      </div>","    <div>","","    <br>","    <div id='home'>","      <p>","        <a href='./index.html'>Home</a>","      </p>","    </div>","  </body>","  <script>","    window.onload = function(){","      const temp_var = signOut();","    }","  </script>","</html>",""],"id":158}],[{"start":{"row":0,"column":0},"end":{"row":32,"column":7},"action":"insert","lines":["<!doctype html>","<html lang=\"en\">","  <head>","    <meta charset=\"utf-8\">","    <!--Cognito JavaScript-->","    <script src=\"js/amazon-cognito-identity.min.js\"></script>","    <script src=\"js/config.js\"></script>","    <script type=\"text/javascript\" src=\"js/profile.js\"></script>","  </head>","","  <body>","    <div class=\"container\">","      <div>","        <h1>Profile</h1>","      </div>","      <div id='profile'>","        <p>One moment please ...</p>","      </div>","    <div>","","    <br>","    <div id='home'>","      <p>","        <a href='./index.1.html'>Home</a>","      </p>","    </div>","  </body>","  <script>","    window.onload = function(){","      const temp_var = getUserAttributes();","    }","  </script>","</html>"],"id":159}],[{"start":{"row":32,"column":7},"end":{"row":33,"column":0},"action":"insert","lines":["",""],"id":160},{"start":{"row":33,"column":0},"end":{"row":33,"column":1},"action":"insert","lines":["s"]}],[{"start":{"row":33,"column":0},"end":{"row":33,"column":1},"action":"remove","lines":["s"],"id":161}],[{"start":{"row":23,"column":25},"end":{"row":23,"column":26},"action":"remove","lines":["1"],"id":162},{"start":{"row":23,"column":24},"end":{"row":23,"column":25},"action":"remove","lines":["."]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":23,"column":24},"end":{"row":23,"column":24},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1579400240665,"hash":"689a73b09639b138220a8aa9f6b1d32397d33770"}